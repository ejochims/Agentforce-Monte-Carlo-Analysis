<?xml version="1.0" encoding="UTF-8"?>
<!--
  MonteCarlo_API.namedCredential-meta.xml

  PURPOSE:
    Named Credential stores the base URL for the Monte Carlo FastAPI service.
    The Apex class references this as "callout:MonteCarlo_API" so the endpoint
    URL never appears in code — it lives here and is managed by admins.

  *** IMPORTANT: URL IS PRE-CONFIGURED ***
    The URL below points to the live Heroku deployment.
    If you redeploy the service to a different URL, update it here and redeploy
    this metadata to your org.

  CREDENTIAL NAME:
    Must stay "MonteCarlo_API" — this exact string is referenced in
    MonteCarloActionHandler.cls as NAMED_CREDENTIAL = 'callout:MonteCarlo_API'

  DEPLOY:
    sf project deploy start -m "NamedCredential:MonteCarlo_API" --target-org <alias>
    (Deploy ExternalCredential first — this file references it)
-->
<NamedCredential xmlns="http://soap.sforce.com/2006/04/metadata">
    <label>Monte Carlo API</label>
    <namedCredentialType>SecuredEndpoint</namedCredentialType>
    <url>https://monte-carlo-forecast-0b7519dafaaf.herokuapp.com</url>
    <externalCredential>MonteCarlo_API_Auth</externalCredential>
    <generateAuthorizationHeader>false</generateAuthorizationHeader>
    <allowMergeFieldsInBody>true</allowMergeFieldsInBody>
    <allowMergeFieldsInHeader>true</allowMergeFieldsInHeader>
    <calloutStatus>Enabled</calloutStatus>
</NamedCredential>
